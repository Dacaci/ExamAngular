<div class="catalog-container">
  <div class="container">
    <h1>Catalogue des Produits</h1>
    
    <div class="catalog-content">
      <aside class="filters-sidebar">
        <h3>Filtres</h3>
        <form [formGroup]="filterForm" class="filters-form">
          <div class="filter-group">
            <label for="category">Catégorie</label>
            <select id="category" formControlName="category">
              @for (category of categories; track category) {
                <option [value]="category">
                  {{ category | titlecase }}
                </option>
              }
            </select>
          </div>
          
          <div class="filter-group">
            <label for="minPrice">Prix minimum (€)</label>
            <input type="number" id="minPrice" formControlName="minPrice" min="0" step="10">
          </div>
          
          <div class="filter-group">
            <label for="maxPrice">Prix maximum (€)</label>
            <input type="number" id="maxPrice" formControlName="maxPrice" min="0" step="10">
          </div>
          
          <div class="filter-group checkbox-group">
            <label>
              <input type="checkbox" formControlName="onSale">
              En promotion uniquement
            </label>
          </div>
          
          <button type="button" (click)="resetFilters()" class="reset-btn">
            Réinitialiser les filtres
          </button>
        </form>
      </aside>
      
      <main class="products-section">
        <div class="results-header">
          <h2>{{ filteredArticles.length }} produit(s) trouvé(s)</h2>
        </div>
        
        @if (loading) {
          <div class="loading">
            <div class="spinner"></div>
            <p>Chargement des produits...</p>
          </div>
        }
        
        @if (!loading && filteredArticles.length > 0) {
          <div class="products-grid">
            @for (article of filteredArticles; track article.id) {
              <app-product-card [article]="article"></app-product-card>
            }
          </div>
        }
        
        @if (!loading && filteredArticles.length === 0) {
          <div class="no-results">
            <p>Aucun produit ne correspond à vos critères de recherche.</p>
          </div>
        }
      </main>
    </div>
  </div>
</div>
